<!DOCTYPE html>
<html lang="en">
<head>
<link rel="manifest" href="manifest.json">
<meta name="theme-color" content="#d32f2f">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
<link rel="stylesheet" href="style.css">
Â Â 
Â  <meta charset="UTF-8">
Â  <meta name="viewport" content="width=device-width, initial-scale=1.0">
Â  <title>Udgir Biryani Adda</title>
Â  <style>
Â  Â  .menu { display: flex; flex-wrap: wrap; justify-content: center; margin: 20px; }
Â  Â  .dish { background-color: #fff3e0; border-radius: 10px; margin: 10px; padding: 15px; width: 200px; text-align: center; box-shadow: 0px 2px 5px rgba(0,0,0,0.2); }
Â  Â  .dish img { width: 100%; border-radius: 10px; }
Â  Â  .dish h3 { margin: 10px 0 5px 0; }
Â  Â  .dish p { margin: 5px 0; }
Â  Â  .dish button { background-color: #d32f2f; color: white; border: none; padding: 8px 15px; border-radius: 5px; cursor: pointer; }
Â  Â  .dish button:hover { background-color: #b71c1c; }

Â  Â  .order-form { max-width: 400px; margin: 20px auto; background-color: #ffe0b2; padding: 20px; border-radius: 10px; }
Â  Â  .order-form h2 { text-align: center; }
Â  Â  .order-form label { display: block; margin: 10px 0 5px 0; }
Â  Â  .order-form input, .order-form textarea { width: 100%; padding: 8px; border-radius: 5px; border: 1px solid #ccc; }
Â  Â  .order-form button { margin-top: 15px; width: 100%; background-color: #d32f2f; color: white; border: none; padding: 10px; border-radius: 5px; font-size: 16px; cursor: pointer; }
Â  Â  .order-form button:hover { background-color: #b71c1c; }

Â  Â  .location-btn {
Â  Â  Â  background-color: #ff5722;
Â  Â  Â  color: white;
Â  Â  Â  border: none;
Â  Â  Â  padding: 12px 20px;
Â  Â  Â  border-radius: 8px;
Â  Â  Â  font-size: 16px;
Â  Â  Â  cursor: pointer;
Â  Â  Â  margin-top: 10px;
Â  Â  Â  width: 100%;
Â  Â  Â  transition: background-color 0.3s, transform 0.2s;
Â  Â  }
Â  Â  .location-btn:hover {
Â  Â  Â  background-color: #e64a19;
Â  Â  Â  transform: scale(1.05);
Â  Â  }

Â  Â  .confirmation { text-align: center; color: green; font-weight: bold; margin: 20px 0; display: none; }
Â  Â Â 
/* Dynamic order list container */
#dynamicOrderList {
Â  margin-top: 15px; /* gap from location button */
}

/* Each item row */
#dynamicOrderList div {
Â  display: flex;
Â  align-items: center; /* vertical alignment */
Â  justify-content: space-between;
Â  margin-bottom: 10px;
Â  background: #fff;
Â  padding: 10px;
Â  border-radius: 8px;
Â  box-shadow: 0 2px 5px rgba(0,0,0,0.1);
}

/* Quantity container */
#dynamicOrderList div div {
Â  display: flex;
Â  align-items: center;
Â  gap: 8px; /* space between - , quantity, + */
}

/* + / - buttons */
#dynamicOrderList button {
Â  width: 32px;
Â  height: 32px;
Â  font-size: 18px;
Â  border-radius: 5px;
Â  border: none;
Â  cursor: pointer;
Â  display: flex;
Â  align-items: center;
Â  justify-content: center;
Â  padding: 0;
Â  transition: 0.2s;
}

#dynamicOrderList button:hover {
Â  opacity: 0.85;
Â  transform: scale(1.05);
}

/* Quantity number */
#dynamicOrderList span {
Â  font-weight: 600;
Â  min-width: 24px;
Â  text-align: center;
Â  display: inline-block;
}


Â  </style>
</head>
<body>
<!-- Compact Install App Popup -->
<div id="pwa-install-popup" style="
Â  display:none;
Â  position: fixed; top: 10px; left: 50%; transform: translateX(-50%) scale(0.95);
Â  background: #fff; color: #333;
Â  border: 2px solid #d32f2f; border-radius: 12px;
Â  box-shadow: 0 4px 10px rgba(0,0,0,0.2);
Â  padding: 10px 15px;
Â  text-align: left;
Â  width: 88%; max-width: 320px;
Â  font-family: system-ui, sans-serif;
Â  transition: all 0.3s ease;
Â  z-index: 9999;">
Â Â 
Â  <div style="display:flex; align-items:center; gap:10px;">
Â  Â  <img src="logo.png" alt="App Logo" style="width:38px; height:38px; border-radius:8px;">
Â  Â  <div style="flex:1;">
Â  Â  Â  <p style="margin:0; font-weight:600; font-size:15px;">Install Udgir Biryani Adda</p>
Â  Â  Â  <p style="margin:2px 0 0; font-size:13px; color:#666;">Get quick access anytime ğŸ—</p>
Â  Â  </div>
Â  Â  <button id="install-btn" style="
Â  Â  Â  background:#d32f2f; color:white; border:none;
Â  Â  Â  border-radius:6px; font-size:13px;
Â  Â  Â  padding:6px 10px; cursor:pointer;">Install</button>
Â  </div>

Â  <button onclick="closePwaPopup()"Â 
Â  Â  style="position:absolute; top:5px; right:8px; background:none;
Â  Â  border:none; color:#999; font-size:16px; cursor:pointer;">âœ•</button>
</div>



<header>
Â  <img src="logo.png" alt="Udgir Biryani Adda Logo" class="logo">
Â  <h1>Udgir Biryani Adda</h1>
</header>

<div class="contact-bar">
Â  ğŸ“ <a href="tel:+919421229507">+91 94212 29507</a>
</div>
<div class="menu">
Â  <div class="dish">
Â  Â  <img src="biryani.jpg" alt="Chicken Dum Biryani (Full)">
Â  Â  <h3>Chicken Dum Biryani (Full)</h3>
Â  Â  <p>â‚¹149</p>
Â  Â  <button onclick="addToOrder('Chicken Dum Biryani (Full)', 149)">Add to Order</button>
Â  </div>
Â  <div class="dish">
Â  Â  <img src="biryani_half.jpg" alt="Chicken Dum Biryani (Half)">
Â  Â  <h3>Chicken Dum Biryani (Half)</h3>
Â  Â  <p>â‚¹99</p>
Â  Â  <button onclick="addToOrder('Chicken Dum Biryani (Half)', 99)">Add to Order</button>
Â  </div>
</div>
<div class="order-form" id="order-section">
Â  <h2>Place Your Order</h2>
Â  <form id="orderForm">
Â  Â  <label for="name">Name:</label>
Â  Â  <input type="text" id="name" required>

Â  Â  <label for="phone">Phone Number:</label>
Â  Â  <input type="tel" id="phone" required>

Â  Â  <label for="address">Delivery Address:</label>
Â  Â  <textarea id="address" rows="3" required></textarea>
Â  Â  <button type="button" class="location-btn" onclick="captureLocation()">ğŸ“ Use My Current Location</button>

Â  Â  <div id="dynamicOrderList"></div>
Â  Â  <label for="orderSummary">Your Order:</label>
Â  Â  <textarea id="orderSummary" rows="4" readonly></textarea>

Â  Â  <button type="submit">Send Order via WhatsApp</button>
Â  </form>
</div>


<div class="confirmation" id="confirmation">
Â  âœ… Thank you! Your order has been sent to WhatsApp. We will contact you shortly.
</div>

<script>Â 
const upiID = "YOURUPI@bank";
let orderItems = [];
let totalPrice = 0;
let liveLocationLink = '';
const yourWhatsAppNumber = "919421229507"; // Your number to receive orders

function addToOrder(name, price) {
Â  let item = orderItems.find(i => i.name === name);
Â  if (item) {
Â  Â  item.quantity += 1;
Â  } else {
Â  Â  item = { name, price, quantity: 1 };
Â  Â  orderItems.push(item);
Â  }

Â  totalPrice = orderItems.reduce((sum, i) => sum + i.price * i.quantity, 0);

Â  updateOrderSummary();
Â  updateCartCount();

Â  showPopup(`âœ… ${item.quantity} Ã— ${name} added to order`);
}



// Updated showPopup to handle success/error colors
function showPopup(message, type = "success") {
Â  const popup = document.getElementById('popupMessage');
Â  popup.innerText = message;
Â  popup.style.background = type === "success" ? "#4CAF50" : "#f44336"; // green or red

Â  // show with animation
Â  popup.style.opacity = "1";
Â  popup.style.bottom = "40px";

Â  // hide after 2s with fade out
Â  setTimeout(() => {
Â  Â  popup.style.opacity = "0";
Â  Â  popup.style.bottom = "20px";
Â  }, 2000);
}


function updateOrderSummary() {
Â  const orderSummary = document.getElementById('orderSummary');
Â  let summary = '';

Â  // Text summary
Â  orderItems.forEach((item, index) => {
Â  Â  summary += `${index + 1}. ${item.name} Ã—${item.quantity} - â‚¹${item.price * item.quantity}\n`;
Â  });
Â  summary += `\nTotal: â‚¹${totalPrice}`;
Â  orderSummary.value = summary;

Â  // Update visible order list with + / - buttons
Â  const list = document.getElementById('dynamicOrderList');
Â  list.innerHTML = ''; // clear old list

Â  if (orderItems.length === 0) {
Â  Â  list.innerHTML = '<p style="text-align:center;">No items added yet.</p>';
Â  Â  return;
Â  }

Â  orderItems.forEach((item, i) => {
Â  Â  const row = document.createElement('div');
Â  Â  row.style.display = 'flex';
Â  Â  row.style.alignItems = 'center';
Â  Â  row.style.justifyContent = 'space-between';
Â  Â  row.style.marginBottom = '10px';
Â  Â  row.style.background = '#fff';
Â  Â  row.style.padding = '10px';
Â  Â  row.style.borderRadius = '8px';
Â  Â  row.style.boxShadow = '0 2px 5px rgba(0,0,0,0.1)';

Â  Â  row.innerHTML = `
Â  Â  Â  <span style="flex:1;">${item.name}</span>
Â  Â  Â  <div style="display:flex;align-items:center;gap:8px;">
Â  Â  Â  Â  <button style="background:#d32f2f;color:white;border:none;border-radius:5px;width:28px;height:28px;font-size:18px;" onclick="decreaseQty(${i})">â€“</button>
Â  Â  Â  Â  <span>${item.quantity}</span>
Â  Â  Â  Â  <button style="background:#43a047;color:white;border:none;border-radius:5px;width:28px;height:28px;font-size:18px;" onclick="increaseQty(${i})">+</button>
Â  Â  Â  </div>
Â  Â  `;
Â  Â  list.appendChild(row);
Â  });
}

function captureLocation() {
Â  if (navigator.geolocation) {
Â  Â  navigator.geolocation.getCurrentPosition(
Â  Â  Â  (position) => {
Â  Â  Â  Â  const lat = position.coords.latitude;
Â  Â  Â  Â  const lon = position.coords.longitude;
Â  Â  Â  Â  liveLocationLink = `https://www.google.com/maps?q=${lat},${lon}`;
Â  Â  Â  Â  alert('Live location captured! You do not need to enter address manually.');
Â  Â  Â  Â  const addressField = document.getElementById('address');
Â  Â  Â  Â  addressField.value = '';
Â  Â  Â  Â  addressField.disabled = true;
Â  Â  Â  },
Â  Â  Â  () => {
Â  Â  Â  Â  alert('Could not get location. Please enable location services.');
Â  Â  Â  }
Â  Â  );
Â  } else {
Â  Â  alert('Geolocation is not supported by your browser.');
Â  }
}

document.getElementById('orderForm').addEventListener('submit', function(e) {
Â  Â  e.preventDefault();
Â  Â  if(orderItems.length === 0){
Â  Â  Â  Â  alert('Please add at least one item to your order!');
Â  Â  Â  Â  return;
Â  Â  }

Â  Â  const customerName = document.getElementById('name').value;
Â  Â  const customerPhone = document.getElementById('phone').value;
Â  Â  const customerAddress = liveLocationLink || document.getElementById('address').value;

Â  Â  // Build order summary
Â  Â  let orderText = '';
Â  Â  orderItems.forEach((item,index)=>{
Â  Â  Â  Â  orderText += `${index+1}. ${item.name} Ã—${item.quantity} - â‚¹${item.price * item.quantity}\n`;
Â  Â  });
Â  Â  let totalAmount = totalPrice;

Â  Â  // UPI Payment Link
Â  Â  const upiLink = `upi://pay?pa=${upiID}&pn=UdgirBiryani&am=${totalAmount}&cu=INR`;

Â  Â  // WhatsApp message
Â  Â  let message = `ğŸ›’ *New Biryani Order*\n\nName: ${customerName}\nPhone: ${customerPhone}\nAddress: ${customerAddress}\n\nOrder:\n${orderText}\nTotal: â‚¹${totalAmount}\n\nğŸ’³ *Payment Options*:\n1. COD (Cash on Delivery)\n2. Online Payment: ${upiLink}\n*Note:* If paid online, please send a screenshot along with this message.`;

Â  Â  // Open WhatsApp
Â  Â  window.open(`https://wa.me/${yourWhatsAppNumber}?text=${encodeURIComponent(message)}`, '_blank');

Â  Â  // Reset order
Â  Â  document.getElementById('confirmation').style.display = 'block';
Â  Â  orderItems = [];
Â  Â  totalPrice = 0;
Â  Â  liveLocationLink = '';
Â  Â  document.getElementById('address').disabled = false;
Â  Â  updateOrderSummary();
Â  Â  this.reset();
});

Â  Â  if ("serviceWorker" in navigator) {
Â  window.addEventListener("load", () => {
Â  Â  navigator.serviceWorker.register("sw.js").then(
Â  Â  Â  (reg) => console.log("Service Worker registered:", reg),
Â  Â  Â  (err) => console.log("Service Worker failed:", err)
Â  Â  );
Â  });
}
let deferredPrompt;

window.addEventListener('beforeinstallprompt', (e) => {
Â  // Prevent the default mini-infobar
Â  e.preventDefault();
Â  deferredPrompt = e;

Â  // Show custom install popup
Â  const popup = document.getElementById('pwa-install-popup');
Â  popup.style.display = 'block';
});

document.getElementById('install-btn').addEventListener('click', async () => {
Â  if (deferredPrompt) {
Â  Â  deferredPrompt.prompt();

Â  Â  const { outcome } = await deferredPrompt.userChoice;

Â  Â  if (outcome === 'accepted') {
Â  Â  Â  console.log('User accepted the install prompt');
Â  Â  } else {
Â  Â  Â  console.log('User dismissed the install prompt');
Â  Â  }

Â  Â  // Hide the install popup
Â  Â  document.getElementById('pwa-install-popup').style.display = 'none';
Â  Â  deferredPrompt = null;
Â  }
});
Â  function closePwaPopup() {
Â  document.getElementById('pwa-install-popup').style.display = 'none';
}

window.addEventListener('beforeinstallprompt', (e) => {
Â  e.preventDefault();
Â  deferredPrompt = e;

Â  const popup = document.getElementById('pwa-install-popup');
Â  popup.style.display = 'block';
Â  setTimeout(() => {
Â  Â  popup.style.transform = 'translateX(-50%) scale(1)';
Â  Â  popup.style.opacity = '1';
Â  }, 100);
});

document.getElementById('install-btn').addEventListener('click', async () => {
Â  if (deferredPrompt) {
Â  Â  deferredPrompt.prompt();
Â  Â  const { outcome } = await deferredPrompt.userChoice;

Â  Â  if (outcome === 'accepted') {
Â  Â  Â  showPopup("ğŸ‰ App installed successfully!");
Â  Â  } else {
Â  Â  Â  showPopup("âŒ Installation canceled", "error");
Â  Â  }

Â  Â  document.getElementById('pwa-install-popup').style.display = 'none';
Â  Â  deferredPrompt = null;
Â  }
});

// Close button
function closePwaPopup() {
Â  const popup = document.getElementById('pwa-install-popup');
Â  popup.style.opacity = '0';
Â  popup.style.transform = 'translateX(-50%) scale(0.95)';
Â  setTimeout(() => popup.style.display = 'none', 500);
}

document.getElementById('install-btn').addEventListener('click', async () => {
Â  if (deferredPrompt) {
Â  Â  deferredPrompt.prompt();
Â  Â  const { outcome } = await deferredPrompt.userChoice;
Â  Â  if (outcome === 'accepted') {
Â  Â  Â  console.log('User accepted the install prompt');
Â  Â  Â  showPopup("ğŸ‰ App installed successfully!");
Â  Â  } else {
Â  Â  Â  showPopup("âŒ Installation dismissed", "error");
Â  Â  }
Â  Â  document.getElementById('pwa-install-popup').style.display = 'none';
Â  Â  deferredPrompt = null;
Â  }
});

</script>
<div class="contact-section" style="text-align:center; margin:30px 0;">
Â  <h3>ğŸ“² Connect with Us</h3>
Â Â 
Â  <!-- Instagram -->
Â  <a href="https://www.instagram.com/udgirbiryaniadda?igsh=ZDAyZzhkeDR1cXFn" target="_blank"Â 
Â  Â  Â style="display:inline-block; margin:10px; font-size:22px; color:#E4405F; text-decoration:none;">
Â  Â  <i class="fab fa-instagram"></i>
Â  </a>
Â Â 
Â  <!-- Gmail -->
Â  <a href="mailto:udgirbiryaniadda@gmail.com"Â 
Â  Â  Â style="display:inline-block; margin:10px; font-size:22px; color:#D44638; text-decoration:none;">
Â  Â  <i class="fas fa-envelope"></i>
Â  </a>
Â Â 
Â  <!-- WhatsApp -->
Â  <a href="https://wa.me/919421229507" target="_blank"Â 
Â  Â  Â style="display:inline-block; margin:10px; font-size:22px; color:#25D366; text-decoration:none;">
Â  Â  <i class="fab fa-whatsapp"></i>
Â  </a>
</div>
Â  <div id="popupMessage"
Â  Â  Â style="position: fixed; bottom: 20px; left: 50%; transform: translateX(-50%);
Â  Â  Â  Â  Â  Â  background: #d32f2f; color: white; padding: 10px 20px; border-radius: 8px;
Â  Â  Â  Â  Â  Â  font-size: 16px; opacity: 0; transition: opacity 0.5s ease, bottom 0.5s ease;
Â  Â  Â  Â  Â  Â  z-index: 1000; box-shadow: 0 2px 8px rgba(0,0,0,0.3);">
</div>
<footer>
Â  <p class="footer-blessing">à¤†à¤ˆ à¤­à¤µà¤¾à¤¨à¥€à¤šà¥€ à¤•à¥ƒà¤ªà¤¾ à¤¸à¤¦à¥ˆà¤µ ğŸ™</p>
</footer>
Â Â 

<!-- Floating View Order Button -->
<div id="viewOrderBtn" class="view-order-btn">
Â  ğŸ›’
Â  <span id="cartCount">0</span>
</div>

<style>
.view-order-btn {
Â  position: fixed;
Â  right: 20px;
Â  bottom: 80px;
Â  background-color: #d32f2f;
Â  color: #fff;
Â  border: none;
Â  border-radius: 50%;
Â  width: 60px;
Â  height: 60px;
Â  font-size: 26px;
Â  display: none;
Â  align-items: center;
Â  justify-content: center;
Â  box-shadow: 0 4px 10px rgba(0,0,0,0.3);
Â  cursor: pointer;
Â  z-index: 9999;
Â  transition: all 0.3s ease;
}

.view-order-btn:hover { background-color: #b71c1c; transform: scale(1.05); }

.view-order-btn span {
Â  position: absolute;
Â  top: 6px;
Â  right: 6px;
Â  background-color: #fff;
Â  color: #d32f2f;
Â  border-radius: 50%;
Â  padding: 3px 7px;
Â  font-size: 14px;
Â  font-weight: bold;
}

.show-btn { display: flex !important; animation: slideIn 0.3s ease; }
@keyframes slideIn { from { opacity:0; transform: translateY(20px);} to {opacity:1; transform:translateY(0);} }

.view-order-btn.bottom { bottom: 20px !important; }
Â 
Â  .view-order-btn {
Â  transition: all 0.3s ease;
}
.view-order-btn.bottom {
Â  bottom: 20px !important;
}

</style>

<script>
const viewBtn = document.getElementById("viewOrderBtn");
const countSpan = document.getElementById("cartCount");
let cartCount = 0;

// Update cart count when item added
function updateCartCount() {
Â  cartCount = orderItems.reduce((sum, i) => sum + i.quantity, 0);
Â  countSpan.textContent = cartCount;
Â  if (cartCount > 0) viewBtn.classList.add("show-btn");
Â  else viewBtn.classList.remove("show-btn");
}

function increaseQty(index) {
Â  orderItems[index].quantity += 1;
Â  totalPrice = orderItems.reduce((sum, i) => sum + i.price * i.quantity, 0);
Â  updateOrderSummary();
Â  updateCartCount(); // <--- add this
}

function increaseQty(index) {
Â  orderItems[index].quantity += 1;
Â  totalPrice = orderItems.reduce((sum, i) => sum + i.price * i.quantity, 0);
Â  updateOrderSummary();
Â  updateCartCount();
Â  showPopup(`âœ… ${orderItems[index].name} quantity increased`);
}

function decreaseQty(index) {
Â  const itemName = orderItems[index].name;
Â  if (orderItems[index].quantity > 1) {
Â  Â  orderItems[index].quantity -= 1;
Â  } else {
Â  Â  orderItems.splice(index, 1);
Â  }
Â  totalPrice = orderItems.reduce((sum, i) => sum + i.price * i.quantity, 0);
Â  updateOrderSummary();
Â  updateCartCount();
Â  showPopup(`âœ… ${itemName} quantity updated`);
}


function adjustCartPosition() {
Â  const installPopup = document.getElementById("pwa-install-popup");
Â  const popupVisible = installPopup && window.getComputedStyle(installPopup).display !== "none";
Â  if (popupVisible) {
Â  Â  viewBtn.classList.remove("bottom"); // move above popup
Â  } else {
Â  Â  viewBtn.classList.add("bottom"); // bottom corner
Â  }
}
setInterval(adjustCartPosition, 300);

Â  let deferredPrompt;

window.addEventListener('beforeinstallprompt', (e) => {
Â  e.preventDefault(); // Prevent the default prompt
Â  deferredPrompt = e;

Â  const popup = document.getElementById('pwa-install-popup');

Â  // Delay showing popup by 3 seconds
Â  setTimeout(() => {
Â  Â  popup.style.display = 'block';
Â  Â  popup.style.opacity = '0';
Â  Â  popup.style.transform = 'translateX(-50%) scale(0.95)';
Â  Â  popup.style.transition = 'opacity 0.5s ease, transform 0.5s ease';

Â  Â  // Fade in and scale up
Â  Â  setTimeout(() => {
Â  Â  Â  popup.style.opacity = '1';
Â  Â  Â  popup.style.transform = 'translateX(-50%) scale(1)';
Â  Â  }, 50);

Â  Â  // Auto-hide after 8 seconds
Â  Â  setTimeout(() => {
Â  Â  Â  popup.style.opacity = '0';
Â  Â  Â  popup.style.transform = 'translateX(-50%) scale(0.95)';
Â  Â  Â  setTimeout(() => {
Â  Â  Â  Â  popup.style.display = 'none';
Â  Â  Â  }, 500);
Â  Â  }, 8000);

Â  }, 9000); // 3-second delay
});

</script>


</body>
</html>
